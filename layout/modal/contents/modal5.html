<article class="modal-cont-main">

    <section class="modal-cont-top">
        <p class="modal-cont-tit">
            Todo 리스트를 작성할 수 있는 기능, 사용자의 현재 위치와 현재 위치의 날씨 정보에 따라 배경 이미지가 변경하는 기능을 구현하였습니다.
        </p>
    </section>

    <section class="modal-cont-section">
        <h3 class="modal-cont-title">
            <i class="fa-solid fa-circle-exclamation"></i><strong class="title-txt">주요 기능 및 특징</strong>
        </h3>
        <ul class="modal-cont-info cont-list">
            <li>
                Todo List의 CRUD(Create, Read, Update, Delete)
            </li>
            <li>
                키보드 동작에 대한 Event
            </li>
            <li>
                OpenWeatherMap API를 사용하여 사용자의 현재 위치, 날씨 정보 사용
            </li>
            <li>
                추가된 Todo List와 위치, 날씨 정보를 localStorage에 저장
            </li>
        </ul>
    </section>

    <section class="modal-cont-section">
        <h3 class="modal-cont-title">
            <i class="fa-solid fa-screwdriver-wrench"></i><strong class="title-txt">사용 기술 및 언어</strong>
            <small class="subtitle-txt">JavaScript, OpenWeatherMap API</small>
        </h3>
        <ul class="modal-cont-tech">
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">KeyCode</p>
                    <div class="dropdown-cont">
                        마우스 클릭으로 리스트를 추가하는건 불편하다고 생각하여 window 객체에서 event.keyCode 내의 수 많은 keyCode중 Enter키의 keyCode를
                        사용하였습니다.
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">OpenWeatherMap API</p>
                    <div class="dropdown-cont">
                        전 세계의 날씨 정보를 제공하는 API 서비스입니다. 발급받은 API key 값만 있으면 현재 날씨부터 과거의 기상 데이터 등 다양한 날씨 정보를 얻을 수 있는데, 현재
                        날씨와 현재 위치를 얻어오는데 사용하였습니다.
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">localStorage</p>
                    <div class="dropdown-cont">
                        사용자가 추가하거나 제거한 Todo 리스트는 사이트를 재방문 하거나 리로드 될 때에도 유지가 되어야 하기 때문에 localStorage에 정보를 저장하였습니다.
                    </div>
                </div>
            </li>
        </ul>
    </section>
    <section class="modal-cont-section">
        <h3 class="modal-cont-title">
            <i class="fa-solid fa-arrows-spin"></i><strong class="title-txt">제작 과정</strong>
        </h3>
        <ul class="modal-cont-contri">
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">Todo List의 CRUD</p>
                    <ul class="dropdown-cont cont-list">
                        <li>
                            할 일 목록을 추가하기 위해 사용자가 <span class="box-txt">input</span>에 입력한 <span
                                class="box-txt">value</span>를 가져온 뒤, <span class="box-txt">createElement</span>를 통해 생성된
                            html요소에 <span class="box-txt">textContent</span>로 해당 <span class="box-txt">value</span>를
                            추가하였습니다.
                        </li>
                        <li>
                            삭제는 해당 리스트 요소를 더블클릭 하여 삭제와 전체삭제 버튼을 통한 삭제가 있습니다.<br>
                            공통적으로 삭제시 컨펌 팝업을 생성하는 함수가 실행되고, '예'를 클릭하게 되면 아래와 같이 실행합니다.<br>
                            1. 해당 요소만 삭제 : <span class="box-txt">remove()</span> 메서드를 사용해 해당 요소인 <span
                                class="box-txt">li</span>를 삭제<br>
                            2. 전체 요소 삭제 : <span class="box-txt">liList</span> 배열의 각 <span class="box-txt">li</span> 요소에
                            대해 <span class="box-txt">remove()</span> 메서드를 호출하여, 각 <span class="box-txt">li</span> 요소를
                            <span class="box-txt">DOM</span>에서 제거합니다.
                        </li>
                    </ul>
                </div>
            </li>
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">OpenWeatherMap API</p>
                    <ul class="dropdown-cont cont-list">
                        <li>
                            <span class="box-txt">navigator.geolocation.getCurrentPosition()</span>를 선언하여 사용하게 됩니다.(공식
                            홈페이지 가이드 내용)
                        </li>
                        <li>
                            fetch() 메서드를 통해 API 키값을 불러온 뒤, 위치, 날씨 정보를 <span class="box-txt">JSON</span>으로 받아왔습니다.
                        </li>
                        <li>
                            해당 <span class="box-txt">API</span>의 <span class="box-txt">position</span> 객체의 키값을 확인한 뒤 필요한
                            정보를 얻어왔습니다 (latitude - 위도, longitude - 경도, weather - 날씨)
                        </li>
                        <li>
                            통신에 성공할 경우 해당 정보를 기능에 사용하는 함수(<span class="box-txt">weatherDataActive</span>) 로 <span
                                class="box-txt">매개변수</span>를 통해 전달한 뒤, <span class="box-txt">weatherDataActive</span>
                            함수에서 지역 이름을 <span class="box-txt">textContent</span>를 통해 추가하고, 날씨의 정보는 <span
                                class="box-txt">API</span>에서 사용중인 이름과 이미지 이름을 동일하게 맞춘 뒤 이미지의 <span
                                class="box-txt">`url('./images/${weather}.jpg')`</span>를 통해 변경하였습니다.
                        </li>
                    </ul>
                </div>
            </li>
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">localStorage</p>
                    <ul class="dropdown-cont cont-list">
                        <li>
                            Todo List에 추가 및 삭제한 리스트 요소들은 사이트 재방문 혹은 리로드시에도 저장이 되어야하기 때문에 <span
                                class="box-txt">localStorage</span>에 정보를 저장하였습니다.
                        </li>
                        <li>
                            <span class="box-txt">OpenWeatherMap API</span>를 통해 불러온 날씨, 지역 정보는 <span
                                class="box-txt">API</span> 통신이 완료되어야 불러와지기 때문에 랜더링시 늦게 불러오는 현상을 조금이라도 줄이기 위해 <span
                                class="box-txt">localStorage</span>에 정보를 저장하였습니다.
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </section>
    <section class="modal-cont-section">
        <h3 class="modal-cont-title">
            <i class="fa-solid fa-triangle-exclamation"></i><strong class="title-txt">문제점 확인</strong>
        </h3>
        <ul class="modal-cont-review">
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">Todo List - 빈 문자열인 상태로 리스트 추가</p>
                    <ul class="dropdown-cont cont-list">
                        <li>
                            <span class="box-txt">input</span>에 아무런 값도 입력하지 않은 상태로 리스트를 추가할 경우 빈 문자열 그대로 추가가 되는 현상이
                            있었습니다.
                        </li>
                        <li>
                            그래서 <span class="box-txt">JavaScript</span>의 <span class="box-txt">trim()</span> 메서드를 활용한
                            <span class="box-txt">input.value.trim() !== ""</span>라는 조건식을 추가하였습니다.
                        </li>
                    </ul>
                </div>
            </li>
            <li>
                <div class="dropdown-box">
                    <p class="dropdown-tit">OpenWeatherMap API - 랜더링 지연 현상</p>
                    <ul class="dropdown-cont cont-list">
                        <li>
                            사이트 랜더링 후 <span class="box-txt">API</span>의 통신이 완료되기 이전에는 현재 위치, 날씨에 맞는 배경 이미지를 불러오지 못 하는 지연
                            현상이 있었습니다.
                        </li>
                        <li>
                            <span class="box-txt">localStorage</span>에 한 번 불러온 지역명과 날씨 정보를 저장하면 <span
                                class="box-txt">API</span>통신 완료 전에도 불러오게 할 수 있지 않을까 해서 해당 정보들을 저장해보았습니다.
                        </li>
                        <li>
                            결과 : <span class="box-txt">localStorage</span>에 저장이 되어있어도 지연되는 현상이 있는듯 합니다... 추후 좋은 방법을 알아내면
                            수정할 예정입니다.
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </section>
    <section class="modal-cont-section">
        <h3 class="modal-cont-title">
            <i class="fa-solid fa-display"></i><strong class="title-txt">작업 화면</strong>
            <small class="subtitle-txt">이미지 클릭 시 크게 볼 수 있습니다. (작업화면이 현재와 다를 수 있습니다.)</small>
            <small class="subtitle-txt">* 저작권 이슈가 있는 경우 첨부하지 않았습니다.</small>
        </h3>
        <ul class="modal-cont-gallery">
            <li>
                <img src="./images/project/todo-list/todo-list.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">기본 화면</p>
            </li>
            <li>
                <img src="./images/project/todo-list/todo-list3.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">할 일 추가</p>
            </li>
            <li>
                <img src="./images/project/todo-list/todo-list4.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">삭제 버튼 클릭</p>
            </li>
            <li>
                <img src="./images/project/todo-list/todo-list5.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">한 일 체크</p>
            </li>
            <li>
                <img src="./images/project/todo-list/todo-list6.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">할 일 삭제</p>
            </li>
            <li>
                <img src="./images/project/todo-list/todo-list2.png" alt="작업 화면" class="gallery-img">
                <p class="gallery-txt">할 일 전체 삭제</p>
            </li>
        </ul>
    </section>

    <div id="image-modal" class="img-modal">
        <header class="modal-header">
            <p class="modal-info">클릭 시 전체 화면으로 전환됩니다.</p>
            <div class="modal-header-tit">
                <p class="img-modal-tit">프로젝트 이미지</p>
            </div>
            <div class="modal-header-btn-box">
                <a href="javascript:void(0)" class="img-full-btn" title="전체화면">
                    <i class="fa-solid fa-expand"></i>
                </a>
                <a href="javascript:void(0)" class="close-img-btn" title="닫기">
                    <i class="fa-solid fa-xmark"></i>
                </a>
            </div>
        </header>
        <main class="modal-body">
            <button type="button" class="prev-img-btn">
                <i class="fa-solid fa-angle-left"></i>
            </button>
            <img src="./images/project/todo-list/todo-list1.png" alt="project-img" class="modal-img" id="modal-image">
            <button type="button" class="next-img-btn">
                <i class="fa-solid fa-angle-right"></i>
            </button>
        </main>
    </div>
</article>